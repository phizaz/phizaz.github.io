<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>RemoteDocker: A fresh approach to run on remote host without hassle | Konpat’s Record of Struggles</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="RemoteDocker: A fresh approach to run on remote host without hassle" />
<meta name="author" content="Konpat Preechakul" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I have a fast-computer at home which I don’t use it as often as my laptop. I intentionally bought it for computation-intensive tasks. But running an arbitrary script on a remote host is always a hassle, never was smooth. Now, this is an attempt to acquire the smoothness we all deserve! https://github.com/phizaz/remote-docker I will just copy and paste the readme here (it also provides an example so you will have a better idea of how this will help improve your daily life): RemoteDocker Run a docker command, tracking progress, sync results and manage, all of these in one simple cli. Installation Requirements Unix based OS (I suspect that some portion of the code is not os independent) rsync, which should be ubiquitous among that kind of OSes. Python 3, I just didn’t test on Python 2 and even it works it’s not gonna be without a glitch. If you’re quilified … pip install remote-docker Usage It’s easier to give a realistic use case, let’s say we have arranged our project (python) as follows: project_root - src - __init__.py - __main__.py - lib - ... - Dockerfile Declare the running environment in a Dockerfile (in the same directory at which the cli will be run, basically, the same as your source directory). e.g. Dockerfile -&gt; FROM python:3 Run using run command in the form rdocker run --tag=&lt;jobname&gt; --host=&lt;user@host&gt; --path=&lt;host_path&gt; &lt;command&gt; &lt;args...&gt;. In this very case, we will use rdocker run --tag=test --host=some@host --path=/tmp/myproject python -u -m src. What it really does is: Sync (using rsync) the source code to the remote host, in this case, whole directory of project_root will be copied to the directory /tmp/myproject of the host, well there is some exceptions though you can define it using .remotedignore, which automatically initiated during the invocation of rdocker. Build, the Dockerfile will be built under docker build -t &lt;jobname&gt;. By the way, you can have a docker executable of your choice! e.g. nvidia-docker all you need do is to state --docker=nvidia-docker in the run command. Run, the designated command will be run inside a newly hatched container under the detach mode i.e. you don’t have to be there and wait the process to finish. Log, all the output from that container will be live fed to your console, closing now won’t budge the running container a bit. Sync Back, after the process in done, all the changes on the remote dirtory will be synced back to your computer’s project_root, don’t fear it will destroy your new changes, it will only make change to old files. (rsync -u) Close your laptop and go to sleep, next day morning run rdocker run or rdocker run --tag=test you will see the progress, and if it’s done you will get your results right back to your laptop. Note: please see --help for the deeper use of the cli." />
<meta property="og:description" content="I have a fast-computer at home which I don’t use it as often as my laptop. I intentionally bought it for computation-intensive tasks. But running an arbitrary script on a remote host is always a hassle, never was smooth. Now, this is an attempt to acquire the smoothness we all deserve! https://github.com/phizaz/remote-docker I will just copy and paste the readme here (it also provides an example so you will have a better idea of how this will help improve your daily life): RemoteDocker Run a docker command, tracking progress, sync results and manage, all of these in one simple cli. Installation Requirements Unix based OS (I suspect that some portion of the code is not os independent) rsync, which should be ubiquitous among that kind of OSes. Python 3, I just didn’t test on Python 2 and even it works it’s not gonna be without a glitch. If you’re quilified … pip install remote-docker Usage It’s easier to give a realistic use case, let’s say we have arranged our project (python) as follows: project_root - src - __init__.py - __main__.py - lib - ... - Dockerfile Declare the running environment in a Dockerfile (in the same directory at which the cli will be run, basically, the same as your source directory). e.g. Dockerfile -&gt; FROM python:3 Run using run command in the form rdocker run --tag=&lt;jobname&gt; --host=&lt;user@host&gt; --path=&lt;host_path&gt; &lt;command&gt; &lt;args...&gt;. In this very case, we will use rdocker run --tag=test --host=some@host --path=/tmp/myproject python -u -m src. What it really does is: Sync (using rsync) the source code to the remote host, in this case, whole directory of project_root will be copied to the directory /tmp/myproject of the host, well there is some exceptions though you can define it using .remotedignore, which automatically initiated during the invocation of rdocker. Build, the Dockerfile will be built under docker build -t &lt;jobname&gt;. By the way, you can have a docker executable of your choice! e.g. nvidia-docker all you need do is to state --docker=nvidia-docker in the run command. Run, the designated command will be run inside a newly hatched container under the detach mode i.e. you don’t have to be there and wait the process to finish. Log, all the output from that container will be live fed to your console, closing now won’t budge the running container a bit. Sync Back, after the process in done, all the changes on the remote dirtory will be synced back to your computer’s project_root, don’t fear it will destroy your new changes, it will only make change to old files. (rsync -u) Close your laptop and go to sleep, next day morning run rdocker run or rdocker run --tag=test you will see the progress, and if it’s done you will get your results right back to your laptop. Note: please see --help for the deeper use of the cli." />
<link rel="canonical" href="https://blog.konpat.me/dev/2016/09/03/remotedocker-a-fresh-approach-to-run-on-remote-host-without-hassle-2.html" />
<meta property="og:url" content="https://blog.konpat.me/dev/2016/09/03/remotedocker-a-fresh-approach-to-run-on-remote-host-without-hassle-2.html" />
<meta property="og:site_name" content="Konpat’s Record of Struggles" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-03T14:48:42+07:00" />
<script type="application/ld+json">
{"datePublished":"2016-09-03T14:48:42+07:00","description":"I have a fast-computer at home which I don’t use it as often as my laptop. I intentionally bought it for computation-intensive tasks. But running an arbitrary script on a remote host is always a hassle, never was smooth. Now, this is an attempt to acquire the smoothness we all deserve! https://github.com/phizaz/remote-docker I will just copy and paste the readme here (it also provides an example so you will have a better idea of how this will help improve your daily life): RemoteDocker Run a docker command, tracking progress, sync results and manage, all of these in one simple cli. Installation Requirements Unix based OS (I suspect that some portion of the code is not os independent) rsync, which should be ubiquitous among that kind of OSes. Python 3, I just didn’t test on Python 2 and even it works it’s not gonna be without a glitch. If you’re quilified … pip install remote-docker Usage It’s easier to give a realistic use case, let’s say we have arranged our project (python) as follows: project_root - src - __init__.py - __main__.py - lib - ... - Dockerfile Declare the running environment in a Dockerfile (in the same directory at which the cli will be run, basically, the same as your source directory). e.g. Dockerfile -&gt; FROM python:3 Run using run command in the form rdocker run --tag=&lt;jobname&gt; --host=&lt;user@host&gt; --path=&lt;host_path&gt; &lt;command&gt; &lt;args...&gt;. In this very case, we will use rdocker run --tag=test --host=some@host --path=/tmp/myproject python -u -m src. What it really does is: Sync (using rsync) the source code to the remote host, in this case, whole directory of project_root will be copied to the directory /tmp/myproject of the host, well there is some exceptions though you can define it using .remotedignore, which automatically initiated during the invocation of rdocker. Build, the Dockerfile will be built under docker build -t &lt;jobname&gt;. By the way, you can have a docker executable of your choice! e.g. nvidia-docker all you need do is to state --docker=nvidia-docker in the run command. Run, the designated command will be run inside a newly hatched container under the detach mode i.e. you don’t have to be there and wait the process to finish. Log, all the output from that container will be live fed to your console, closing now won’t budge the running container a bit. Sync Back, after the process in done, all the changes on the remote dirtory will be synced back to your computer’s project_root, don’t fear it will destroy your new changes, it will only make change to old files. (rsync -u) Close your laptop and go to sleep, next day morning run rdocker run or rdocker run --tag=test you will see the progress, and if it’s done you will get your results right back to your laptop. Note: please see --help for the deeper use of the cli.","author":{"@type":"Person","name":"Konpat Preechakul"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.konpat.me/dev/2016/09/03/remotedocker-a-fresh-approach-to-run-on-remote-host-without-hassle-2.html"},"@type":"BlogPosting","url":"https://blog.konpat.me/dev/2016/09/03/remotedocker-a-fresh-approach-to-run-on-remote-host-without-hassle-2.html","headline":"RemoteDocker: A fresh approach to run on remote host without hassle","dateModified":"2016-09-03T14:48:42+07:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://blog.konpat.me/feed.xml" title="Konpat's Record of Struggles" /><script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: {
          equationNumbers: {
            autoNumber: "all"
          },
          extensions: ["cancel.js"]
        },
      })
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>

</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Konpat&#39;s Record of Struggles</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>
        
        <div class="trigger">
          <!--
            my_page.autogen is populated by the pagination logic for all pages
                            that are automatically created by the gem. Check for non-existence to exclude pagination pages from site.pages iterators
          -->
          
            
          
            
            <a class="page-link" href="/about/">About</a>
            
          
            
          
            
            <a class="page-link" href="/tags/">Tags</a>
            
          
            
          
            
          
            
            <a class="page-link" href="/academic/index.html">Academic</a>
            
          
            
            <a class="page-link" href="/dev/index.html">Dev</a>
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
            <a class="page-link" href="/me/index.html">Personal</a>
            
          
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">RemoteDocker: A fresh approach to run on remote host without hassle</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2016-09-03T14:48:42+07:00" itemprop="datePublished">Sep 3, 2016
      </time>
      <span>
        
        <a href="/tags/#python"><span class="badge badge-secondary">python</span></a>
        
      </span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>I have a fast-computer at home which I don’t use it as often as my laptop. I intentionally bought it for computation-intensive tasks. But running an arbitrary script on a remote host is always a hassle, never was smooth.</p>

<p>Now, this is an attempt to acquire the smoothness we all deserve!</p>

<p>https://github.com/phizaz/remote-docker</p>

<p>I will just copy and paste the readme here (it also provides an example so you will have a better idea of how this will help improve your daily life):</p>

<h3 id="remotedocker">RemoteDocker</h3>

<p><em>Run a docker command, tracking progress, sync results and manage, all of these in one simple cli.</em></p>

<h4 id="installation">Installation</h4>

<h5 id="requirements">Requirements</h5>
<ol>
  <li>Unix based OS (I suspect that some portion of the code is not os independent)</li>
  <li>rsync, which should be ubiquitous among that kind of OSes.</li>
  <li>Python 3, I just didn’t test on Python 2 and even it works it’s not gonna be without a glitch.</li>
</ol>

<p>If you’re quilified …</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install remote-docker
</code></pre></div></div>

<h4 id="usage">Usage</h4>

<p>It’s easier to give a realistic use case, let’s say we have arranged our project  (python) as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>project_root
- src
	- __init__.py
	- __main__.py
	- lib
		- ...
- Dockerfile
</code></pre></div></div>

<ol>
  <li>
    <p>Declare the <em>running environment</em> in a <code class="highlighter-rouge">Dockerfile</code> (in the same directory at which the <code class="highlighter-rouge">cli</code> will be run, basically, the same as your source directory).</p>

    <p>e.g. <code class="highlighter-rouge">Dockerfile</code> -&gt; <code class="highlighter-rouge">FROM python:3</code></p>
  </li>
  <li>Run using <code class="highlighter-rouge">run</code> command in the form <code class="highlighter-rouge">rdocker run --tag=&lt;jobname&gt; --host=&lt;user@host&gt; --path=&lt;host_path&gt; &lt;command&gt; &lt;args...&gt;</code>. In this very case, we will use <code class="highlighter-rouge">rdocker run --tag=test --host=some@host --path=/tmp/myproject python -u -m src</code>. What it really does is:
    <ol>
      <li><strong>Sync</strong> (using <code class="highlighter-rouge">rsync</code>) the source code to the remote host, in this case, whole directory of <code class="highlighter-rouge">project_root</code> will be copied to the directory <code class="highlighter-rouge">/tmp/myproject</code> of the host, well there is some exceptions though you can define it using <code class="highlighter-rouge">.remotedignore</code>, which automatically initiated during the invocation of <code class="highlighter-rouge">rdocker</code>.</li>
      <li><strong>Build</strong>, the <code class="highlighter-rouge">Dockerfile</code> will be built under <code class="highlighter-rouge">docker build -t &lt;jobname&gt;</code>. By the way, you can have a docker executable of your choice! e.g. <code class="highlighter-rouge">nvidia-docker</code> all you need do is to state <code class="highlighter-rouge">--docker=nvidia-docker</code> in the <code class="highlighter-rouge">run</code> command.</li>
      <li><strong>Run</strong>, the designated command will be run inside a newly hatched container under the detach mode i.e. you don’t have to be there and wait the process to finish.</li>
      <li><strong>Log</strong>, all the output from that container will be live fed to your console, closing now won’t budge the running container a bit.</li>
      <li><strong>Sync Back</strong>, after the process in done, all the changes on the remote dirtory will be synced back to your computer’s <code class="highlighter-rouge">project_root</code>, don’t fear it will destroy your new changes, it will only make change to old files. (<code class="highlighter-rouge">rsync -u</code>)</li>
    </ol>
  </li>
  <li>Close your laptop and go to sleep, next day morning run <code class="highlighter-rouge">rdocker run</code> or <code class="highlighter-rouge">rdocker run --tag=test</code> you will see the progress, and if it’s done you will get your results right back to your laptop.</li>
</ol>

<p>Note: please see <code class="highlighter-rouge">--help</code> for the deeper use of the cli.</p>

  </div><a class="u-url" href="/dev/2016/09/03/remotedocker-a-fresh-approach-to-run-on-remote-host-without-hassle-2.html" hidden></a>
</article>



      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col one-half">
        <h2 class="footer-heading">Konpat&#39;s Record of Struggles</h2>
        <ul class="contact-list">
          <li class="p-name">Konpat Preechakul</li><li><a class="u-email" href="mailto:the.akita.ta@gmail.com">the.akita.ta@gmail.com</a></li></ul>
      </div>

      <div class="footer-col one-half">
        <p>O thou, I long to rival thy greatest invention, the mind.</p>
      </div>

      <div class="social-links"><ul class="social-media-list"><li><a href="https://www.facebook.com/phizaz" title="phizaz"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#facebook"></use></svg></a></li><li><a href="https://github.com/phizaz" title="phizaz"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a href="https://www.instagram.com/phizaz" title="phizaz"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#instagram"></use></svg></a></li><li><a href="https://twitter.com/phizaz" title="phizaz"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li><li><a href="/feed.xml" title="rss"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#rss"></use></svg></a></li></ul>
</div>
    </div>

  </div>

</footer></body>

</html>
